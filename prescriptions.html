<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Clinic Flow · Prescriptions</title>
  <style>
    /* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
       CLINIC FLOW · DESIGN SYSTEM (inlined)
       ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
    :root {
      --blue:      #1A6BFF;
      --blue-lt:   #EEF3FF;
      --blue-dark: #0F4FCC;
      --green:     #34C759;
      --orange:    #FF9500;
      --red:       #FF3B30;
      --purple:    #AF52DE;
      --bg:        #F2F4F9;
      --surface:   #FFFFFF;
      --surface2:  #F7F8FC;
      --border:    #E4E7EF;
      --text-h:    #0F1525;
      --text-b:    #3A4057;
      --text-m:    #6B7290;
      --text-lt:   #A0A8C0;
      --radius-sm: 10px;
      --radius-md: 16px;
      --radius-lg: 24px;
      --radius-xl: 32px;
      --shadow-sm: 0 2px 8px rgba(26,107,255,.08);
      --shadow-md: 0 6px 24px rgba(26,107,255,.12);
      --shadow-lg: 0 20px 60px rgba(15,21,37,.30);
      --font: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', system-ui, sans-serif;
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    html, body {
      height: 100%; width: 100%;
      font-family: var(--font);
      -webkit-font-smoothing: antialiased;
      background: var(--bg);
    }

    /* ── Screen system ── */
    .screen {
      display: flex;
      flex-direction: column;
      overflow: hidden;
      width: 100%;
      min-height: 100dvh;
      background: var(--bg);
    }

    @media (min-width: 600px) {
      body {
        background: linear-gradient(135deg, #1A6BFF 0%, #0F4FCC 45%, #0A3490 100%);
      }
      .screen {
        position: relative;
        margin: 40px auto;
        width: min(480px, 95vw);
        min-height: unset;
        height: min(900px, 94dvh);
        border-radius: var(--radius-xl);
        box-shadow: 0 24px 72px rgba(15,21,37,.35), 0 16px 40px rgba(15,21,37,.18);
      }
    }

    @media (min-width: 900px) {
      .screen { width: min(520px, 90vw); }
    }

    @media (min-width: 1400px) {
      .screen { width: min(560px, 85vw); height: min(920px, 92dvh); }
    }

    /* ── Layout sections ── */
    .screen-header {
      flex-shrink: 0;
      padding: max(env(safe-area-inset-top,0px) + 28px, 52px) 20px 12px;
    }
    .screen-body {
      flex: 1;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
      padding: 8px 20px 12px;
    }
    .screen-footer {
      flex-shrink: 0;
      padding: 16px 20px max(env(safe-area-inset-bottom,0px) + 12px, 28px);
    }
    @media (min-width: 600px) {
      .screen-header { padding: 28px 28px 12px; }
      .screen-body   { padding: 8px 28px 12px; }
      .screen-footer { padding: 16px 28px 28px; }
    }
    ::-webkit-scrollbar { width: 0; }

    /* ── Header ── */
    .screen-header.with-back {
      display: flex; align-items: center; gap: 12px;
    }
    .btn-back {
      width: 36px; height: 36px; flex-shrink: 0;
      background: var(--surface); border: none; border-radius: 10px;
      display: flex; align-items: center; justify-content: center;
      cursor: pointer; color: var(--text-h);
      box-shadow: var(--shadow-sm); text-decoration: none;
    }
    .btn-back:active { transform: scale(.95); }
    .header-title { font-size: 17px; font-weight: 600; color: var(--text-h); }

    /* ── Button ── */
    .btn-outline-full {
      width: 100%; padding: 14px;
      background: none; border: 1.5px solid var(--border);
      border-radius: var(--radius-sm);
      font-size: 14px; font-weight: 600; color: var(--text-b);
      cursor: pointer; font-family: var(--font);
      text-decoration: none; text-align: center; display: block;
    }
    .btn-outline-full:active { background: var(--bg); }

    /* ── Section label ── */
    .section-label {
      font-size: 11px; font-weight: 800; color: var(--text-lt);
      letter-spacing: .7px; text-transform: uppercase;
      margin: 18px 0 8px;
    }
    .section-label:first-child { margin-top: 4px; }

    /* ── Prescription card ── */
    .rx-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius-md);
      padding: 16px;
      margin-bottom: 10px;
      box-shadow: var(--shadow-sm);
      text-decoration: none;
      display: block;
      color: inherit;
      transition: border-color .15s, transform .1s;
    }
    .rx-card:active { transform: scale(.99); border-color: var(--blue); }

    .rx-card-top {
      display: flex; align-items: flex-start; gap: 12px;
    }

    .rx-icon {
      width: 44px; height: 44px;
      border-radius: 12px;
      display: flex; align-items: center; justify-content: center;
      flex-shrink: 0;
    }
    .rx-icon--active   { background: rgba(26,107,255,.10); color: var(--blue); }
    .rx-icon--filled   { background: rgba(52,199,89,.10);  color: var(--green); }
    .rx-icon--expired  { background: rgba(160,168,192,.10); color: var(--text-lt); }

    .rx-meta { flex: 1; min-width: 0; }
    .rx-name   { font-size: 15px; font-weight: 800; color: var(--text-h); line-height: 1.3; }
    .rx-dosage { font-size: 12px; color: var(--text-m); margin-top: 2px; }

    .rx-badge {
      font-size: 11px; font-weight: 800;
      padding: 4px 9px; border-radius: 20px;
      white-space: nowrap; flex-shrink: 0;
    }
    .badge-active  { background: rgba(26,107,255,.10); color: var(--blue); }
    .badge-filled  { background: rgba(52,199,89,.10);  color: var(--green); }
    .badge-expired { background: rgba(160,168,192,.10); color: var(--text-lt); }

    .rx-chevron { color: var(--text-lt); flex-shrink: 0; margin-top: 4px; }

    /* ── Card details row ── */
    .rx-details {
      display: flex; flex-wrap: wrap; gap: 12px;
      margin-top: 12px;
      border-top: 1px solid var(--border);
      padding-top: 10px;
    }
    .rx-detail-item {
      display: flex; align-items: center; gap: 5px;
      font-size: 12px; color: var(--text-m); font-weight: 600;
    }
    .rx-detail-item svg { flex-shrink: 0; color: var(--text-lt); }

    /* ── Refill notice (orange callout) ── */
    .rx-refill-notice {
      display: flex; gap: 8px; align-items: center;
      margin-top: 10px;
      padding: 9px 12px;
      background: rgba(255,149,0,.08);
      border: 1px solid rgba(255,149,0,.2);
      border-radius: var(--radius-sm);
      font-size: 12px; font-weight: 600; color: var(--orange);
    }
    .rx-refill-notice svg { flex-shrink: 0; }

    /* ── "Fill at Pharmacy" inline CTA on card ── */
    .rx-fill-cta {
      display: flex; align-items: center; justify-content: center; gap: 6px;
      margin-top: 12px;
      padding: 10px;
      background: var(--blue-lt);
      border-radius: var(--radius-sm);
      font-size: 13px; font-weight: 700; color: var(--blue);
    }

    /* ── Selectable card state ── */
    .rx-card.selectable { cursor: pointer; user-select: none; }

    .rx-card.selected {
      border-color: var(--blue);
      background: rgba(26,107,255,.03);
      box-shadow: 0 0 0 1px var(--blue), var(--shadow-sm);
    }

    /* ── Checkbox indicator ── */
    .rx-select-check {
      width: 22px; height: 22px; flex-shrink: 0;
      border: 2px solid var(--border);
      border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      background: var(--surface);
      transition: background .15s, border-color .15s;
    }
    .rx-card.selected .rx-select-check {
      background: var(--blue);
      border-color: var(--blue);
    }
    .rx-select-check svg { opacity: 0; transition: opacity .15s; }
    .rx-card.selected .rx-select-check svg { opacity: 1; }

    /* ── Fill CTA as button (inside selectable card) ── */
    .rx-fill-cta-btn {
      width: 100%; margin-top: 12px; padding: 10px;
      background: var(--blue-lt);
      border: none; border-radius: var(--radius-sm);
      font-size: 13px; font-weight: 700; color: var(--blue);
      cursor: pointer; font-family: var(--font);
      display: flex; align-items: center; justify-content: center; gap: 6px;
      transition: background .15s;
    }
    .rx-fill-cta-btn:active { background: rgba(26,107,255,.18); }

    /* ── Select-All toggle in header ── */
    .header-title { flex: 1; }
    .select-all-btn {
      font-size: 13px; font-weight: 700; color: var(--blue);
      background: none; border: none; cursor: pointer; font-family: var(--font);
      padding: 4px 0; white-space: nowrap;
    }
    .select-all-btn:active { opacity: .6; }

    /* ── Bulk fill bar ── */
    .bulk-fill-bar {
      flex-shrink: 0;
      display: none;
      align-items: center; justify-content: space-between;
      background: var(--text-h);
      color: white;
      padding: 14px 20px;
      gap: 12px;
    }
    .bulk-fill-bar.visible { display: flex; }
    @media (min-width: 600px) {
      .bulk-fill-bar { padding: 14px 28px; }
    }
    .bulk-bar-label { font-size: 12px; opacity: .65; }
    .bulk-bar-count { font-size: 15px; font-weight: 700; }
    .bulk-fill-btn {
      flex-shrink: 0;
      background: var(--blue); color: white; border: none;
      padding: 11px 18px; border-radius: 12px;
      font-size: 13px; font-weight: 700; cursor: pointer; font-family: var(--font);
    }
    .bulk-fill-btn:active { transform: scale(.95); }

    /* ── Tab bar ── */
    .tab-bar {
      flex-shrink: 0;
      display: flex;
      background: var(--surface);
      border-top: 1px solid var(--border);
      padding: 8px 0 max(env(safe-area-inset-bottom,0px), 8px);
    }
    .tab {
      flex: 1; display: flex; flex-direction: column;
      align-items: center; gap: 3px; padding: 6px 4px;
      text-decoration: none; color: var(--text-lt);
      font-size: 10px; font-weight: 700; letter-spacing: .3px;
      border: none; background: none; cursor: pointer;
    }
    .tab.active, .tab:hover { color: var(--blue); }
  </style>
</head>
<body>

  <!-- ─────────────────────────────────────────
       PRESCRIPTIONS LIST
  ───────────────────────────────────────── -->
  <div class="screen" id="screen-prescriptions" style="display:flex;">

    <div class="screen-header with-back">
      <a class="btn-back" href="dashboard.html" aria-label="Back">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
          <path d="M15 19l-7-7 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>
      <span class="header-title">Prescriptions</span>
      <button class="select-all-btn" id="selectAllBtn" onclick="toggleSelectAll()">Select All</button>
    </div>

    <div class="screen-body">

      <!-- ── Active ── -->
      <p class="section-label">Active</p>

      <!-- Active prescriptions — tap card to select; or tap "Fill at Pharmacy" as a single quick-fill shortcut -->
      <div class="rx-card selectable" id="rx-amox" onclick="toggleRx('rx-amox')">
        <div class="rx-card-top">
          <div class="rx-select-check">
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
          </div>
          <div class="rx-icon rx-icon--active">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
              <path d="m10.5 20.5-7-7a5 5 0 1 1 7-7l7 7a5 5 0 1 1-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <line x1="8.5" y1="8.5" x2="15.5" y2="15.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <div class="rx-meta">
            <div class="rx-name">Amoxicillin 500mg</div>
            <div class="rx-dosage">1 capsule · 3× daily · 7 days</div>
          </div>
          <span class="rx-badge badge-active">Active</span>
        </div>
        <div class="rx-details">
          <div class="rx-detail-item">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
            Dr. Sarah Lim
          </div>
          <div class="rx-detail-item">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><rect x="3" y="4" width="18" height="18" rx="2"/><path d="M3 10h18"/></svg>
            Issued 24 Feb 2026
          </div>
          <div class="rx-detail-item">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><circle cx="12" cy="12" r="9"/><path d="M12 7v5l3 3"/></svg>
            Expires 3 Mar 2026
          </div>
        </div>
        <div class="rx-refill-notice">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><circle cx="12" cy="12" r="10"/><path d="M12 8v4M12 16v.5"/></svg>
          New prescription — not yet filled
        </div>
        <button class="rx-fill-cta-btn" onclick="event.stopPropagation(); window.location.href='pharmacy.html'">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/><path d="M10 9h6M13 6v6"/></svg>
          Fill at Pharmacy →
        </button>
      </div>

      <div class="rx-card selectable" id="rx-para" onclick="toggleRx('rx-para')">
        <div class="rx-card-top">
          <div class="rx-select-check">
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
          </div>
          <div class="rx-icon rx-icon--active">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
              <path d="m10.5 20.5-7-7a5 5 0 1 1 7-7l7 7a5 5 0 1 1-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <line x1="8.5" y1="8.5" x2="15.5" y2="15.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <div class="rx-meta">
            <div class="rx-name">Paracetamol 500mg</div>
            <div class="rx-dosage">1–2 tablets · as needed · max 8/day</div>
          </div>
          <span class="rx-badge badge-active">Active</span>
        </div>
        <div class="rx-details">
          <div class="rx-detail-item">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
            Dr. Raj Kumar
          </div>
          <div class="rx-detail-item">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><rect x="3" y="4" width="18" height="18" rx="2"/><path d="M3 10h18"/></svg>
            Issued 10 Feb 2026
          </div>
          <div class="rx-detail-item">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><circle cx="12" cy="12" r="9"/><path d="M12 7v5l3 3"/></svg>
            Expires 10 May 2026
          </div>
        </div>
        <button class="rx-fill-cta-btn" onclick="event.stopPropagation(); window.location.href='pharmacy.html'">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/><path d="M10 9h6M13 6v6"/></svg>
          Fill at Pharmacy →
        </button>
      </div>

      <!-- ── Past ── -->
      <p class="section-label">Past</p>

      <a class="rx-card" href="pharmacy.html">
        <div class="rx-card-top">
          <div class="rx-icon rx-icon--filled">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
              <path d="m10.5 20.5-7-7a5 5 0 1 1 7-7l7 7a5 5 0 1 1-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <line x1="8.5" y1="8.5" x2="15.5" y2="15.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <div class="rx-meta">
            <div class="rx-name">Loratadine 10mg</div>
            <div class="rx-dosage">1 tablet · once daily · 30 days</div>
          </div>
          <span class="rx-badge badge-filled">Filled</span>
          <svg class="rx-chevron" width="16" height="16" viewBox="0 0 24 24" fill="none">
            <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="rx-details">
          <div class="rx-detail-item">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
            Dr. Silva
          </div>
          <div class="rx-detail-item">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><rect x="3" y="4" width="18" height="18" rx="2"/><path d="M3 10h18"/></svg>
            Issued 24 Jan 2026
          </div>
          <div class="rx-detail-item">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg>
            Central Medicare
          </div>
        </div>
      </a>

      <a class="rx-card" href="pharmacy.html">
        <div class="rx-card-top">
          <div class="rx-icon rx-icon--expired">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
              <path d="m10.5 20.5-7-7a5 5 0 1 1 7-7l7 7a5 5 0 1 1-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <line x1="8.5" y1="8.5" x2="15.5" y2="15.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <div class="rx-meta">
            <div class="rx-name">Metformin 500mg</div>
            <div class="rx-dosage">1 tablet · twice daily · 90 days</div>
          </div>
          <span class="rx-badge badge-expired">Expired</span>
          <svg class="rx-chevron" width="16" height="16" viewBox="0 0 24 24" fill="none">
            <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="rx-details">
          <div class="rx-detail-item">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
            Dr. Aiden Park
          </div>
          <div class="rx-detail-item">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><rect x="3" y="4" width="18" height="18" rx="2"/><path d="M3 10h18"/></svg>
            Issued 6 Jan 2026
          </div>
        </div>
      </a>

    </div>

    <!-- Bulk fill action bar — appears when ≥1 Rx is selected -->
    <div class="bulk-fill-bar" id="bulkBar">
      <div>
        <div class="bulk-bar-label">Ready to fill</div>
        <div class="bulk-bar-count" id="bulkCount">1 Prescription</div>
      </div>
      <button class="bulk-fill-btn" onclick="window.location.href='pharmacy.html'">
        Fill at Pharmacy →
      </button>
    </div>

    <!-- Footer: Browse All Pharmacies (OTC fallback) -->
    <div class="screen-footer">
      <a class="btn-outline-full" href="pharmacy.html" style="display:flex; align-items:center; justify-content:center; gap:8px;">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
          <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
          <path d="M10 9h6M13 6v6"/>
        </svg>
        Browse All Pharmacies
      </a>
    </div>

    <!-- Tab Bar -->
    <nav class="tab-bar">
      <a href="dashboard.html" class="tab">
        <svg fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" width="24" height="24">
          <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        <span>Home</span>
      </a>
      <a href="appointments.html" class="tab">
        <svg fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" width="24" height="24">
          <rect width="18" height="18" x="3" y="4" rx="2"></rect>
          <line x1="16" x2="16" y1="2" y2="6"></line>
          <line x1="8" x2="8" y1="2" y2="6"></line>
          <line x1="3" x2="21" y1="10" y2="10"></line>
        </svg>
        <span>Appts</span>
      </a>
      <a href="prescriptions.html" class="tab active">
        <svg fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" width="24" height="24">
          <path d="m10.5 20.5-7-7a5 5 0 1 1 7-7l7 7a5 5 0 1 1-7 7"/>
          <line x1="8.5" y1="8.5" x2="15.5" y2="15.5"/>
        </svg>
        <span>Rx</span>
      </a>
      <a href="profile.html" class="tab">
        <svg fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" width="24" height="24">
          <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
        <span>Profile</span>
      </a>
    </nav>

  </div>

  <script>
    const ACTIVE_IDS = ['rx-amox', 'rx-para'];
    const selected = new Set();

    function toggleRx(id) {
      const card = document.getElementById(id);
      if (selected.has(id)) {
        selected.delete(id);
        card.classList.remove('selected');
      } else {
        selected.add(id);
        card.classList.add('selected');
      }
      syncBulkBar();
      syncSelectAllBtn();
    }

    function toggleSelectAll() {
      const allSelected = ACTIVE_IDS.every(id => selected.has(id));
      if (allSelected) {
        ACTIVE_IDS.forEach(id => {
          selected.delete(id);
          document.getElementById(id).classList.remove('selected');
        });
      } else {
        ACTIVE_IDS.forEach(id => {
          selected.add(id);
          document.getElementById(id).classList.add('selected');
        });
      }
      syncBulkBar();
      syncSelectAllBtn();
    }

    function syncBulkBar() {
      const bar = document.getElementById('bulkBar');
      const countEl = document.getElementById('bulkCount');
      const n = selected.size;
      if (n > 0) {
        bar.classList.add('visible');
        countEl.textContent = n === 1 ? '1 Prescription' : n + ' Prescriptions';
      } else {
        bar.classList.remove('visible');
      }
    }

    function syncSelectAllBtn() {
      const btn = document.getElementById('selectAllBtn');
      const allSelected = ACTIVE_IDS.every(id => selected.has(id));
      btn.textContent = allSelected ? 'Deselect All' : 'Select All';
    }
  </script>
</body>
</html>
