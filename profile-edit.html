<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Clinic Flow · Profile Setup</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* ── Avatar upload ── */
    .avatar-upload-row {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 12px;
      padding: 8px 0 24px;
    }
    .avatar-upload-circle {
      width: 80px; height: 80px;
      border-radius: 24px;
      background: var(--blue-lt);
      color: var(--blue);
      font-size: 32px; font-weight: 700;
      display: flex; align-items: center; justify-content: center;
      position: relative;
      cursor: pointer;
    }
    .avatar-upload-badge {
      position: absolute;
      bottom: -6px; right: -6px;
      width: 26px; height: 26px;
      border-radius: 50%;
      background: var(--blue);
      color: white;
      display: flex; align-items: center; justify-content: center;
      border: 2px solid var(--surface);
    }
    .avatar-upload-hint {
      font-size: 13px;
      color: var(--text-m);
    }

    /* ── Dual-field row ── */
    .field-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    /* ── Gender chips ── */
    .gender-chips {
      display: flex;
      gap: 10px;
    }
    .gender-chip {
      flex: 1;
      cursor: pointer;
      position: relative;
    }
    .gender-chip input[type="radio"] {
      position: absolute; opacity: 0; pointer-events: none; width: 0; height: 0;
    }
    .gender-chip-label {
      display: block;
      padding: 11px 8px;
      background: var(--surface);
      border: 1.5px solid var(--border);
      border-radius: var(--radius-sm);
      text-align: center;
      font-size: 14px; font-weight: 600;
      color: var(--text-b);
      transition: all .15s;
      cursor: pointer;
    }
    .gender-chip input[type="radio"]:checked + .gender-chip-label {
      background: var(--blue-lt);
      border-color: var(--blue);
      color: var(--blue);
    }

    /* ── Blood-type chips ── */
    .blood-chips {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
    }
    .blood-chip {
      position: relative;
      cursor: pointer;
    }
    .blood-chip input[type="radio"] {
      position: absolute; opacity: 0; pointer-events: none; width: 0; height: 0;
    }
    .blood-chip-label {
      display: block;
      padding: 10px 4px;
      background: var(--surface);
      border: 1.5px solid var(--border);
      border-radius: var(--radius-sm);
      text-align: center;
      font-size: 14px; font-weight: 700;
      color: var(--text-b);
      transition: all .15s;
      cursor: pointer;
    }
    .blood-chip input[type="radio"]:checked + .blood-chip-label {
      background: rgba(255,59,48,.08);
      border-color: var(--red);
      color: var(--red);
    }

    /* ── "Want to book?" decision cards ── */
    .decision-heading {
      font-size: 17px; font-weight: 700; color: var(--text-h);
      margin-bottom: 6px;
    }
    .decision-sub {
      font-size: 14px; color: var(--text-m); margin-bottom: 20px; line-height: 1.5;
    }
    .decision-cards {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .decision-card {
      display: flex; align-items: center; gap: 16px;
      background: var(--surface); border: 1.5px solid var(--border);
      border-radius: var(--radius-md); padding: 18px 16px;
      text-decoration: none; cursor: pointer;
      box-shadow: var(--shadow-sm);
      transition: border-color .15s, box-shadow .15s;
    }
    .decision-card:active { transform: scale(.98); }
    .decision-card:hover  { border-color: var(--blue); box-shadow: var(--shadow-md); }
    .decision-card--appt  { border-color: var(--blue); }
    .decision-icon {
      width: 52px; height: 52px; border-radius: 14px; flex-shrink: 0;
      display: flex; align-items: center; justify-content: center;
    }
    .decision-icon--appt  { background: #EEF3FF; color: var(--blue); }
    .decision-icon--skip  { background: #F0FFF4; color: var(--green); }
    .decision-text  { flex: 1; }
    .decision-name  { font-size: 16px; font-weight: 700; color: var(--text-h); }
    .decision-desc  { font-size: 13px; color: var(--text-m); margin-top: 3px; line-height: 1.4; }
    .decision-arrow { color: var(--text-lt); }

    /* ── Step indicator ── */
    .step-dots {
      display: flex; gap: 6px; justify-content: center; margin: 6px 0 18px;
    }
    .step-dot {
      width: 8px; height: 8px; border-radius: 50%;
      background: var(--border);
    }
    .step-dot.active { background: var(--blue); width: 22px; border-radius: 4px; }
  </style>
</head>
<body>

  <!-- ─────────────────────────────────────────
       SCREEN A · PROFILE DETAILS (step 1 of 2)
  ───────────────────────────────────────── -->
  <div class="screen" id="screen-profile-details" style="display: flex;">

    <div class="screen-header with-back">
      <a class="btn-back" href="#" onclick="history.back(); return false;">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
          stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>
      </a>
      <h3 class="header-title">Your Profile</h3>
    </div>

    <div class="screen-body">

      <!-- Step indicator -->
      <div class="step-dots">
        <div class="step-dot active"></div>
        <div class="step-dot"></div>
      </div>

      <!-- Avatar -->
      <div class="avatar-upload-row">
        <div class="avatar-upload-circle">
          A
          <div class="avatar-upload-badge">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
              stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 5v14M5 12h14"/>
            </svg>
          </div>
        </div>
        <span class="avatar-upload-hint">Tap to add a photo</span>
      </div>

      <!-- Full name -->
      <div class="text-field-group">
        <label class="text-field-label">Full Name</label>
        <input class="text-field" type="text" placeholder="e.g. Adithya Ekanayaka" autocomplete="name" value="">
      </div>

      <!-- Date of birth + Age (auto-calc hint) -->
      <div class="field-row" style="margin-top: 16px;">
        <div class="text-field-group" style="margin-top: 0;">
          <label class="text-field-label">Date of Birth</label>
          <input class="text-field" type="date" id="dob-input">
        </div>
        <div class="text-field-group" style="margin-top: 0;">
          <label class="text-field-label">Age</label>
          <input class="text-field" type="number" id="age-input" placeholder="Auto" readonly
            style="background: var(--surface2); color: var(--text-m);">
        </div>
      </div>

      <!-- Gender -->
      <div class="text-field-group" style="margin-top: 16px;">
        <label class="text-field-label">Gender</label>
        <div class="gender-chips">
          <label class="gender-chip">
            <input type="radio" name="gender" value="male">
            <span class="gender-chip-label">Male</span>
          </label>
          <label class="gender-chip">
            <input type="radio" name="gender" value="female">
            <span class="gender-chip-label">Female</span>
          </label>
          <label class="gender-chip">
            <input type="radio" name="gender" value="other">
            <span class="gender-chip-label">Other</span>
          </label>
        </div>
      </div>

      <!-- National ID -->
      <div class="text-field-group" style="margin-top: 16px;">
        <label class="text-field-label">National ID / Passport (Optional)</label>
        <input class="text-field" type="text" placeholder="e.g. 199xxxxxxV">
      </div>

      <!-- Blood type -->
      <div class="text-field-group" style="margin-top: 16px;">
        <label class="text-field-label">Blood Type (Optional)</label>
        <div class="blood-chips">
          <label class="blood-chip"><input type="radio" name="blood" value="A+"><span class="blood-chip-label">A+</span></label>
          <label class="blood-chip"><input type="radio" name="blood" value="A-"><span class="blood-chip-label">A−</span></label>
          <label class="blood-chip"><input type="radio" name="blood" value="B+"><span class="blood-chip-label">B+</span></label>
          <label class="blood-chip"><input type="radio" name="blood" value="B-"><span class="blood-chip-label">B−</span></label>
          <label class="blood-chip"><input type="radio" name="blood" value="AB+"><span class="blood-chip-label">AB+</span></label>
          <label class="blood-chip"><input type="radio" name="blood" value="AB-"><span class="blood-chip-label">AB−</span></label>
          <label class="blood-chip"><input type="radio" name="blood" value="O+"><span class="blood-chip-label">O+</span></label>
          <label class="blood-chip"><input type="radio" name="blood" value="O-"><span class="blood-chip-label">O−</span></label>
        </div>
      </div>

      <!-- Known Allergies -->
      <div class="text-field-group" style="margin-top: 16px;">
        <label class="text-field-label">Known Allergies (Optional)</label>
        <input class="text-field" type="text" placeholder="e.g. Penicillin, Peanuts">
      </div>

      <!-- Emergency contact -->
      <div class="text-field-group" style="margin-top: 16px; margin-bottom: 8px;">
        <label class="text-field-label">Emergency Contact (Optional)</label>
        <input class="text-field" type="tel" placeholder="+94 7x xxx xxxx" autocomplete="tel" style="margin-bottom:8px;">
        <input class="text-field" type="text" placeholder="Relationship (e.g. Spouse, Parent)">
      </div>

    </div>

    <div class="screen-footer">
      <a class="btn-primary" href="#screen-next-step">Save &amp; Continue →</a>
    </div>
  </div>


  <!-- ─────────────────────────────────────────
       SCREEN B · WHAT'S NEXT? (step 2 of 2)
  ───────────────────────────────────────── -->
  <div class="screen" id="screen-next-step" style="display: none;">

    <div class="screen-header with-back">
      <a class="btn-back" href="#screen-profile-details">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
          stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>
      </a>
      <h3 class="header-title">All Set!</h3>
    </div>

    <div class="screen-body center-v">

      <!-- Step indicator -->
      <div class="step-dots">
        <div class="step-dot"></div>
        <div class="step-dot active"></div>
      </div>

      <!-- Checkmark -->
      <div style="display:flex; justify-content:center; margin-bottom: 4px;">
        <div style="width:72px; height:72px; border-radius:22px; background:rgba(52,199,89,.14);
          display:flex; align-items:center; justify-content:center;">
          <svg width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="#34C759" stroke-width="2.5"
            stroke-linecap="round" stroke-linejoin="round">
            <path d="M20 6L9 17l-5-5"/>
          </svg>
        </div>
      </div>

      <div>
        <p class="decision-heading" style="text-align:center;">Profile saved!</p>
        <p class="decision-sub" style="text-align:center;">
          Would you like to book an appointment now, or head straight to your dashboard?
        </p>
      </div>

      <div class="decision-cards">

        <!-- Option A: Book appointment -->
        <a class="decision-card decision-card--appt" href="diagnosis.html">
          <div class="decision-icon decision-icon--appt">
            <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <rect width="18" height="18" x="3" y="4" rx="2"/>
              <line x1="16" x2="16" y1="2" y2="6"/>
              <line x1="8" x2="8" y1="2" y2="6"/>
              <line x1="3" x2="21" y1="10" y2="10"/>
              <line x1="8" x2="8" y1="14" y2="16"/>
              <line x1="12" x2="12" y1="14" y2="18"/>
              <line x1="16" x2="16" y1="14" y2="16"/>
            </svg>
          </div>
          <div class="decision-text">
            <div class="decision-name">Book an Appointment</div>
            <div class="decision-desc">Complete a quick triage assessment and get assigned to a doctor.</div>
          </div>
          <svg class="decision-arrow" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M9 18l6-6-6-6"/>
          </svg>
        </a>

        <!-- Option B: Go to dashboard -->
        <a class="decision-card" href="dashboard.html">
          <div class="decision-icon decision-icon--skip">
            <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
              <polyline points="9 22 9 12 15 12 15 22"/>
            </svg>
          </div>
          <div class="decision-text">
            <div class="decision-name">Go to Dashboard</div>
            <div class="decision-desc">Browse your queue, prescriptions, and more — book an appointment later.</div>
          </div>
          <svg class="decision-arrow" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M9 18l6-6-6-6"/>
          </svg>
        </a>

      </div>
    </div>
  </div>


  <script>
    /* ── Auto-calculate age from DOB ── */
    const dobInput = document.getElementById('dob-input');
    const ageInput = document.getElementById('age-input');
    if (dobInput && ageInput) {
      dobInput.addEventListener('change', () => {
        const dob = new Date(dobInput.value);
        if (isNaN(dob.getTime())) { ageInput.value = ''; return; }
        const today = new Date();
        let age = today.getFullYear() - dob.getFullYear();
        const m = today.getMonth() - dob.getMonth();
        if (m < 0 || (m === 0 && today.getDate() < dob.getDate())) age--;
        ageInput.value = age >= 0 ? age : '';
      });
    }

    /* ── CSS :target-style nav between the two screens ── */
    document.querySelectorAll('a[href="#screen-next-step"]').forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        document.getElementById('screen-profile-details').style.display = 'none';
        document.getElementById('screen-next-step').style.display = 'flex';
        window.scrollTo(0, 0);
      });
    });
    document.querySelectorAll('a[href="#screen-profile-details"]').forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        document.getElementById('screen-next-step').style.display = 'none';
        document.getElementById('screen-profile-details').style.display = 'flex';
        window.scrollTo(0, 0);
      });
    });
  </script>

</body>
</html>
